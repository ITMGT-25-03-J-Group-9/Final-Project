<h1>Product details</h1>
<a href="/">Back to products</a>
{% if product %}
    <p>Product name: {{ product.name }}</p>
    <p>Product price: {{ product.price }}</p>
    <p>Available quantity: {{ max_quantity }}</p>
{% endif %}

<h2>Add to cart</h2>
<form method="POST" action="{% url 'add_to_cart' %}">
    {% csrf_token %}
    <input type="hidden" name="product_id" value="{{ product.id }}">
    <label for="quantity">Quantity</label>
    <input type="number" name="quantity" min="1" max="{{ max_quantity }}" value="1">

    <label for="size">Size</label>
    <select name="size">
        {% for size in product.size.all %}
            <option value="{{ size.size_code }}">{{ size.size_name }}</option>
        {% empty %}
            <option value="">No sizes available</option>
        {% endfor %}
    </select>

    <input type="submit" value="Add to cart">
</form>